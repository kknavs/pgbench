{% extends "master.html" %}
{% load static %}

{% block html_attributes %}ng-app="pgbench"{% endblock %}
{% block body_attributes %}ng-controller="pgbenchCtrl"{% endblock %}

{% block javascript %}
    <script src="{% static 'javascript/analyze.js' %}"></script>
{% endblock %}

{% block title %}Analyze{% endblock %}

{% block content %}
    <div id="placeholder" style="width:600px;height:300px"></div>
    <br>
    <!--<div ng-click="alertTPS()">Demo clickable - Please click me</div>
    <button id="graph">Test</button>-->

    <script>
        setTimeout(function () {
                    var t = getData("TPSConnEstablish");
                    var c = $("#placeholder");
                    var d = prepData(t);
                    plotGraph(c, d);
                },
                500
        )
        ;
    </script>

    <div class="izpis"></div>

    <table class="table">
        <tr>
            <th>Id</th>
            <th>Title</th>
            <th>User</th>
            <th>Date</th>
            <th>Transaction type</th>
            <th>Scaling factor</th>
            <th>Threads</th>
            <th>Clients</th>
            <th>Transactions per client</th>
            <th>Transactions</th>
            <th>TPS</th>
            <th>TPS (including establishing connections)</th>
        </tr>
        {% verbatim %}
        <tr ng-repeat="m in measures.objects">
            <td>{{ m.id }}</td>
            <td>{{ m.title }}</td>
            <td>{{ m.user }}</td>
            <td>{{ m.date }}</td>
            <td>{{ m.transactionType }}</td>
            <td>{{ m.scalingFactor }}</td>
            <td>{{ m.threads }}</td>
            <td>{{ m.clients }}</td>
            <td>{{ m.transactionsPerClient }}</td>
            <td>{{ m.transactions }}</td>
            <td>{{ m.TPS }}</td>
            <td>{{ m.TPSConnEstablish }}</td>
        </tr>
        {% endverbatim %}
    </table>

    <br/><br/>


{% endblock %}
